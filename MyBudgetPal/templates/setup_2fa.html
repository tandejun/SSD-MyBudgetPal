<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Setup 2FA - MyBudgetPal</title>
    {% include 'common/head.html' %}
</head>

<body class="dashboard">
    {% include 'common/preloader.html' %}
    <div id="main-wrapper">
        {% include 'common/header.html' %}
        {% include 'common/sidebar.html' %}
        <div class="content-body">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-xxl-6 col-xl-8 col-lg-8">
                        <div class="card mt-4">
                            <div class="card-header">
                                <h4 class="card-title">Enable Two-Factor Authentication (2FA)</h4>
                            </div>
                            <div class="card-body">
                                <p>Scan this QR code with Google Authenticator, Authy, or another app.</p>
                                <div class="text-center mb-4">
                                    <img src="data:image/png;base64,{{ qr_code }}" alt="2FA QR Code">
                                </div>
                                <form method="POST">
                                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                                    <div class="form-group">
                                        <label for="otp">Enter 6-digit Code from App</label>
                                        <input type="text" class="form-control" id="otp" name="otp" required>
                                    </div>
                                    <button type="submit" class="btn btn-primary mt-3">Enable 2FA</button>
                                </form>
                                <hr>
                                <p><strong>Backup Code:</strong> {{ secret }}</p>
                                <small class="text-muted">Store this backup secret in a secure place.</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% include 'common/footer.html' %}
    </div>
    {% include 'common/scripts.html' %}
</body>

</html>